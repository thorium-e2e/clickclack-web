html
  head
    title Update Clack #{clack._id}
    link(rel='stylesheet', href='/stylesheets/default.css')
    link(rel='stylesheet', href='/stylesheets/update.css')
    link(rel='stylesheet', href='/stylesheets/clacks.css')
    script(src='/javascripts/update-clacks.js')
  body
    a(href="/clacks")
      button(testsautoid="btn-to-clacks-list").button.button-link back
    h1 Update Clack
    p #{JSON.stringify(clack)}
    p.text.text-info
      i Clacks are free form data
    p.text.text-info
      i Add as many attributes as you want !
    form.form.form-update(method='POST', action='/clacks/#{clack._id}', testsautoid="form-update-clack")
      div.fields(testsautoid="clack-fields")#clack-fields
        for value, key in clack
          - if (key.includes("id"))
            input(type="hidden")
          - else
            p.input.input-free-form
              label="key : "
              input(type="text", name="keys", value="#{key}", testsautoid="input-key")
              label=" value : "
              input(type="text", name="values", value="#{value}", testsautoid="input-value")
      p
        button.button.button-reset(type='reset', testsautoid="btn-reset-form") Reset
        button.button.button-create(type='button', onClick="addKeyValueFields()", testsautoid="btn-add-fields") Add
        button.button.button-submit(type='submit', testsautoid="btn-submit-form") Submit
